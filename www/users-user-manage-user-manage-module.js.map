{"version":3,"sources":["webpack:///./node_modules/angularfire2/firestore/index.js","webpack:///./src/app/pages/users/user-manage/user-manage.module.ts","webpack:///./src/app/pages/users/user-manage/user-manage.page.html","webpack:///./src/app/pages/users/user-manage/user-manage.page.scss","webpack:///./src/app/pages/users/user-manage/user-manage.page.ts"],"names":[],"mappings":"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","file":"users-user-manage-user-manage-module.js","sourcesContent":["\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"@angular/fire/firestore\"));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi93cmFwcGVyL3NyYy9maXJlc3RvcmUvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSw2Q0FBd0MifQ==","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserManagePage } from './user-manage.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserManagePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UserManagePage]\n})\nexport class UserManagePageModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Manage Details</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\" *ngIf=\\\"user\\\" fullscreen=\\\"true\\\">\\n  <ion-row>\\n    <ion-col text-center align-self-center>\\n      <ion-avatar (click)=\\\"uploadAvatar()\\\">\\n        <img [src]=\\\"_sanitizer.bypassSecurityTrustResourceUrl(user.avatar)\\\" />\\n      </ion-avatar>\\n    </ion-col>\\n  </ion-row>\\n\\n  <ion-row class=\\\"form-row\\\" *ngIf=\\\"userDetails\\\">\\n    <ion-col>\\n      <ion-list>\\n        <form novalidate [formGroup]=\\\"userDetails\\\">\\n\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">First Name</ion-label>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"firstName\\\">\\n            </ion-input>\\n          </ion-item>\\n\\n          <!-- First name error message -->\\n          <ng-container *ngFor=\\\"let error of error_messages.firstName\\\">\\n            <div class=\\\"error\\\"\\n              *ngIf=\\\"userDetails.get('firstName').hasError(error.type) && (userDetails.get('firstName').dirty || userDetails.get('firstName').touched)\\\">\\n              {{ error.message }}\\n            </div>\\n          </ng-container>\\n\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Last Name</ion-label>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"lastName\\\">\\n            </ion-input>\\n          </ion-item>\\n\\n          <!-- Last name error message -->\\n          <ng-container *ngFor=\\\"let error of error_messages.lastName\\\">\\n            <div class=\\\"error\\\"\\n              *ngIf=\\\"userDetails.get('lastName').hasError(error.type) && (userDetails.get('lastName').dirty || userDetails.get('lastName').touched)\\\">\\n              {{ error.message }}\\n            </div>\\n          </ng-container>\\n\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Email</ion-label>\\n            <ion-input type=\\\"email\\\" formControlName=\\\"email\\\" readonly=\\\"true\\\">\\n            </ion-input>\\n          </ion-item>\\n\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">New Password</ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"new_password\\\"></ion-input>\\n          </ion-item>\\n\\n          <!-- Password error message -->\\n          <ng-container *ngFor=\\\"let error of error_messages.password\\\">\\n            <div class=\\\"error\\\"\\n              *ngIf=\\\"userDetails.get('new_password').hasError(error.type) && (userDetails.get('new_password').dirty || userDetails.get('new_password').touched)\\\">\\n              {{ error.message }}\\n            </div>\\n          </ng-container>\\n\\n          <ion-row class=\\\"button-row\\\">\\n            <ion-col text-center>\\n              <ion-button expand=\\\"full\\\" fill=\\\"solid\\\" color=\\\"primary\\\" (click)=\\\"submit()\\\">\\n                SAVE\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </form>\\n      </ion-list>\\n    </ion-col>\\n  </ion-row>\\n</ion-content>\"","module.exports = \"ion-avatar {\\n  max-width: 200px;\\n  max-height: 200px;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0 auto; }\\n  ion-avatar img {\\n    width: 200px;\\n    height: 200px;\\n    -o-object-fit: cover;\\n       object-fit: cover; }\\n  ion-header {\\n  -webkit-backdrop-filter: blur(8px);\\n          backdrop-filter: blur(8px); }\\n  ion-toolbar {\\n  --ion-toolbar-background: rgba(255, 255, 255, 0.2);\\n  --color: #fff; }\\n  ion-back-button {\\n  --color: #fff; }\\n  ion-content {\\n  width: 100%;\\n  --background: none;\\n  --background: #43cea2;\\n  --background: -webkit-linear-gradient(to left, #185a9d, #43cea2);\\n  --background: linear-gradient(to left, #185a9d, #43cea2); }\\n  ion-grid {\\n  width: 100%; }\\n  .form-row {\\n  margin-top: 2.5rem;\\n  padding: 0;\\n  border-radius: 10px;\\n  background: rgba(255, 255, 255, 0.2);\\n  box-shadow: 0px 3px 3px 1px rgba(0, 0, 0, 0.25); }\\n  .button-row {\\n  margin-top: 2rem; }\\n  ion-list {\\n  margin-right: 0.3rem;\\n  margin-left: 0.3rem;\\n  --ion-item-background: transparent; }\\n  ion-list ion-item {\\n    margin: 0.5rem auto;\\n    --background: transparent;\\n    color: #fff; }\\n  ion-list ion-item ion-label {\\n      font-weight: 300; }\\n  ion-list ion-item ion-input {\\n      color: #fff; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdXNlcnMvdXNlci1tYW5hZ2UvRDpcXEdpdFxcTGV0c01lZXQyMDE5L3NyY1xcYXBwXFxwYWdlc1xcdXNlcnNcXHVzZXItbWFuYWdlXFx1c2VyLW1hbmFnZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLFdBQVc7RUFDWCxZQUFZO0VBQ1osY0FBYyxFQUFBO0VBTGhCO0lBUUksWUFBWTtJQUNaLGFBQWE7SUFDYixvQkFBaUI7T0FBakIsaUJBQWlCLEVBQUE7RUFJckI7RUFDRSxrQ0FBMEI7VUFBMUIsMEJBQTBCLEVBQUE7RUFHNUI7RUFDRSxrREFBeUI7RUFDekIsYUFBUSxFQUFBO0VBR1Y7RUFDRSxhQUFRLEVBQUE7RUFHVjtFQUNFLFdBQVc7RUFDWCxrQkFBYTtFQUNiLHFCQUFhO0VBQ2IsZ0VBQWE7RUFDYix3REFBYSxFQUFBO0VBR2Y7RUFDRSxXQUFXLEVBQUE7RUFHYjtFQUNFLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsbUJBQW1CO0VBQ25CLG9DQUFvQztFQUNwQywrQ0FBK0MsRUFBQTtFQUdqRDtFQUNFLGdCQUFnQixFQUFBO0VBR2xCO0VBQ0Usb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixrQ0FBc0IsRUFBQTtFQUh4QjtJQU1JLG1CQUFtQjtJQUNuQix5QkFBYTtJQUNiLFdBQVcsRUFBQTtFQVJmO01BV00sZ0JBQWdCLEVBQUE7RUFYdEI7TUFlTSxXQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy91c2Vycy91c2VyLW1hbmFnZS91c2VyLW1hbmFnZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYXZhdGFyIHtcclxuICBtYXgtd2lkdGg6IDIwMHB4O1xyXG4gIG1heC1oZWlnaHQ6IDIwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBtYXJnaW46IDAgYXV0bztcclxuXHJcbiAgaW1nIHtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICB9XHJcbn1cclxuXHJcbmlvbi1oZWFkZXIge1xyXG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpO1xyXG59XHJcblxyXG5pb24tdG9vbGJhciB7XHJcbiAgLS1pb24tdG9vbGJhci1iYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XHJcbiAgLS1jb2xvcjogI2ZmZjtcclxufVxyXG5cclxuaW9uLWJhY2stYnV0dG9uIHtcclxuICAtLWNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG5pb24tY29udGVudCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xyXG4gIC0tYmFja2dyb3VuZDogIzQzY2VhMjtcclxuICAtLWJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsICMxODVhOWQsICM0M2NlYTIpO1xyXG4gIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsICMxODVhOWQsICM0M2NlYTIpO1xyXG59XHJcblxyXG5pb24tZ3JpZCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5mb3JtLXJvdyB7XHJcbiAgbWFyZ2luLXRvcDogMi41cmVtO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XHJcbiAgYm94LXNoYWRvdzogMHB4IDNweCAzcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XHJcbn1cclxuXHJcbi5idXR0b24tcm93IHtcclxuICBtYXJnaW4tdG9wOiAycmVtO1xyXG59XHJcblxyXG5pb24tbGlzdCB7XHJcbiAgbWFyZ2luLXJpZ2h0OiAwLjNyZW07XHJcbiAgbWFyZ2luLWxlZnQ6IDAuM3JlbTtcclxuICAtLWlvbi1pdGVtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG5cclxuICBpb24taXRlbSB7XHJcbiAgICBtYXJnaW46IDAuNXJlbSBhdXRvO1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG5cclxuICAgIGlvbi1sYWJlbCB7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbiAgICB9XHJcblxyXG4gICAgaW9uLWlucHV0IHtcclxuICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { AlertController, Platform } from '@ionic/angular';\nimport { AuthenticationService } from 'src/app/services/helpers/authentication.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { environment } from 'src/environments/environment';\n\nimport { User } from '../../../services/models/user';\n\n@Component({\n  selector: 'app-user-manage',\n  templateUrl: './user-manage.page.html',\n  styleUrls: ['./user-manage.page.scss'],\n})\nexport class UserManagePage implements OnInit {\n  user: User = null;\n  authUser: firebase.User = null;\n  memberSince: string;\n\n  userDetails: FormGroup;\n  error_messages = environment.error_messages;\n\n  constructor(\n    private router: Router,\n    public platform: Platform,\n    private formBuilder: FormBuilder,\n    public _sanitizer: DomSanitizer,\n    private camera: Camera,\n    public alertCtrl: AlertController,\n    private authenticationService: AuthenticationService,\n    private userService: UserService\n  ) {\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.getUser();\n  }\n\n  getUser() {\n    this.authUser = this.authenticationService.getUserAuth();\n    this.memberSince = this.authUser.metadata.creationTime;\n    this.userService.getUser(this.authUser.uid).subscribe(result => { this.user = result; this.createFormGroup(); });\n  }\n\n  createFormGroup() {\n    this.userDetails = this.formBuilder.group({\n      firstName: new FormControl(this.user.firstName, {\n        validators: Validators.compose([\n          Validators.required\n        ]), updateOn: 'blur'\n      }),\n      lastName: new FormControl(this.user.lastName, {\n        validators: Validators.compose([\n          Validators.required\n        ]), updateOn: 'blur'\n      }),\n      email: new FormControl(this.authUser.email, { validators: [] }),\n      new_password: new FormControl('', {\n        validators: Validators.compose([\n          Validators.minLength(5),\n          Validators.pattern(environment.password_regex)\n        ]), updateOn: 'blur'\n      }),\n    });\n  }\n\n  async uploadAvatar() {\n    const options: CameraOptions = {\n      quality: 80,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      allowEdit: true,\n      correctOrientation: true\n    };\n\n    this.platform.ready().then(() => {\n      if (this.platform.is('cordova')) {\n        this.camera.getPicture(options).then(\n          (imageData) => {\n            let base64Image = \"data:image/jpeg;base64,\" + imageData;\n            this.user.avatar = base64Image;\n          }, async (error) => {\n            const alert = await this.alertCtrl.create({\n              header: 'Error',\n              message: 'Could not upload image. Please try again!',\n              buttons: ['OK']\n            });\n            await alert.present();\n          });\n      }\n    });\n  }\n\n  async submit() {\n    let showSuccess = false;\n    this.user.firstName = this.userDetails.controls.firstName.value;\n    this.user.lastName = this.userDetails.controls.lastName.value;\n\n    this.userService.updateUser(this.user).then((result) => {\n      showSuccess = result;\n\n      // Check if password needs to be updated\n      if (this.userDetails.controls.new_password.value != '') {\n        this.authUser.updatePassword(this.userDetails.controls.new_password.value);\n      }\n    });\n\n    // Show success alert\n    if (showSuccess) {\n      const alert = await this.alertCtrl.create({\n        header: 'Success',\n        message: 'Profile sucessfully updated!',\n        buttons: [{\n          text: 'OK', handler: () => {\n            this.router.navigate(['home']);\n          }\n        }]\n      });\n      await alert.present();\n    }\n  }\n}\n"],"sourceRoot":""}